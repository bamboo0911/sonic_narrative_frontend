{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AIResultPage=()=>{const[generatedText,setGeneratedText]=useState('');const[displayedText,setDisplayedText]=useState('');useEffect(()=>{const fetchGeneratedText=async()=>{try{const response=await fetch('http://localhost:5000/api/latest-result');// 确保路径正确\nif(!response.ok){throw new Error(`Network response was not ok: ${response.statusText}`);}const data=await response.json();setGeneratedText(data.generatedText);}catch(error){console.error('Error fetching the generated text:',error);setGeneratedText('Error: Could not load AI generated text.');}};fetchGeneratedText();},[]);useEffect(()=>{if(generatedText){let index=0;const interval=setInterval(()=>{setDisplayedText(prev=>prev+generatedText[index]);index++;if(index>=generatedText.length)clearInterval(interval);},50);// 每个字的显示间隔\nreturn()=>clearInterval(interval);}},[generatedText]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"AI Generated Content\"}),/*#__PURE__*/_jsx(\"p\",{children:displayedText})]});};export default AIResultPage;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AIResultPage","generatedText","setGeneratedText","displayedText","setDisplayedText","fetchGeneratedText","response","fetch","ok","Error","statusText","data","json","error","console","index","interval","setInterval","prev","length","clearInterval","className","children"],"sources":["/home/bamboo0911/my-pwa-app/frontend/src/components/AIResultPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nconst AIResultPage = () => {\r\n    const [generatedText, setGeneratedText] = useState('');\r\n    const [displayedText, setDisplayedText] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchGeneratedText = async () => {\r\n            try {\r\n                const response = await fetch('http://localhost:5000/api/latest-result'); // 确保路径正确\r\n                if (!response.ok) {\r\n                    throw new Error(`Network response was not ok: ${response.statusText}`);\r\n                }\r\n                const data = await response.json();\r\n                setGeneratedText(data.generatedText);\r\n            } catch (error) {\r\n                console.error('Error fetching the generated text:', error);\r\n                setGeneratedText('Error: Could not load AI generated text.');\r\n            }\r\n        };\r\n    \r\n        fetchGeneratedText();\r\n    }, []);\r\n    useEffect(() => {\r\n        if (generatedText) {\r\n            let index = 0;\r\n            const interval = setInterval(() => {\r\n                setDisplayedText((prev) => prev + generatedText[index]);\r\n                index++;\r\n                if (index >= generatedText.length) clearInterval(interval);\r\n            }, 50); // 每个字的显示间隔\r\n\r\n            return () => clearInterval(interval);\r\n        }\r\n    }, [generatedText]);\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>AI Generated Content</h1>\r\n            <p>{displayedText}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AIResultPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGP,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACQ,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEtDD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAW,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yCAAyC,CAAC,CAAE;AACzE,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,gCAAgCH,QAAQ,CAACI,UAAU,EAAE,CAAC,CAC1E,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCV,gBAAgB,CAACS,IAAI,CAACV,aAAa,CAAC,CACxC,CAAE,MAAOY,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,oCAAoC,CAAEA,KAAK,CAAC,CAC1DX,gBAAgB,CAAC,0CAA0C,CAAC,CAChE,CACJ,CAAC,CAEDG,kBAAkB,CAAC,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CACNX,SAAS,CAAC,IAAM,CACZ,GAAIO,aAAa,CAAE,CACf,GAAI,CAAAc,KAAK,CAAG,CAAC,CACb,KAAM,CAAAC,QAAQ,CAAGC,WAAW,CAAC,IAAM,CAC/Bb,gBAAgB,CAAEc,IAAI,EAAKA,IAAI,CAAGjB,aAAa,CAACc,KAAK,CAAC,CAAC,CACvDA,KAAK,EAAE,CACP,GAAIA,KAAK,EAAId,aAAa,CAACkB,MAAM,CAAEC,aAAa,CAACJ,QAAQ,CAAC,CAC9D,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,MAAO,IAAMI,aAAa,CAACJ,QAAQ,CAAC,CACxC,CACJ,CAAC,CAAE,CAACf,aAAa,CAAC,CAAC,CAEnB,mBACIF,KAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBzB,IAAA,OAAAyB,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BzB,IAAA,MAAAyB,QAAA,CAAInB,aAAa,CAAI,CAAC,EACrB,CAAC,CAEd,CAAC,CAED,cAAe,CAAAH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}